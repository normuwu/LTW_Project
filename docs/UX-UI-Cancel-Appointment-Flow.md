# UX/UI Design: Luá»“ng Há»§y Lá»‹ch Háº¹n

## Má»¥c lá»¥c
1. [Tá»•ng quan UI States](#1-tá»•ng-quan-ui-states)
2. [Chi tiáº¿t tá»«ng State](#2-chi-tiáº¿t-tá»«ng-state)
3. [Microcopy tiáº¿ng Viá»‡t](#3-microcopy-tiáº¿ng-viá»‡t)
4. [Guidelines mÃ u sáº¯c](#4-guidelines-mÃ u-sáº¯c)
5. [Edge Cases](#5-edge-cases)
6. [Implementation Files](#6-implementation-files)

---

## 1. Tá»•ng quan UI States

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FLOW DIAGRAM                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Click     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    Confirm    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ DEFAULT  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚ CONFIRM  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚ LOADING  â”‚        â”‚
â”‚   â”‚  State   â”‚   "Há»§y"      â”‚  Modal   â”‚   "Há»§y lá»‹ch"  â”‚  State   â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â”‚        â–²                         â”‚                          â”‚               â”‚
â”‚        â”‚                         â”‚ "Giá»¯ lá»‹ch"               â”‚               â”‚
â”‚        â”‚                         â–¼                          â–¼               â”‚
â”‚        â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚        â”‚                    â”‚  CLOSE   â”‚              â”‚ SUCCESS  â”‚         â”‚
â”‚        â”‚                    â”‚  Modal   â”‚              â”‚  Toast   â”‚         â”‚
â”‚        â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜         â”‚
â”‚        â”‚                                                   â”‚               â”‚
â”‚        â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚        â”‚                         â”‚                         â”‚               â”‚
â”‚        â”‚                         â–¼                         â–¼               â”‚
â”‚        â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   UNDO   â”‚             â”‚  UNDO    â”‚          â”‚
â”‚           Undo success     â”‚ Clicked  â”‚             â”‚ EXPIRED  â”‚          â”‚
â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                             â”‚
â”‚   â”‚  ERROR   â”‚ â—€â”€â”€â”€â”€ API Error / Network Error                            â”‚
â”‚   â”‚  Toast   â”‚                                                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                             â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. Chi tiáº¿t tá»«ng State

### 2.1 DEFAULT State
**MÃ´ táº£:** Tráº¡ng thÃ¡i máº·c Ä‘á»‹nh cá»§a tháº» lá»‹ch háº¹n

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• Lá»‹ch háº¹n #123                          [Chá» duyá»‡t] ğŸŸ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  KhÃ¡ch hÃ ng: Nguyá»…n VÄƒn A                                   â”‚
â”‚  ThÃº cÆ°ng: Milo (ChÃ³ Corgi)                                 â”‚
â”‚  Dá»‹ch vá»¥: KhÃ¡m tá»•ng quÃ¡t                                    â”‚
â”‚  BÃ¡c sÄ©: BS. Tráº§n VÄƒn B                                     â”‚
â”‚  NgÃ y háº¹n: 15/01/2026 - 09:00                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [âœ“ Duyá»‡t]  [âœ— Tá»« chá»‘i]  [ğŸš« Há»§y]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UI Elements:**
- Border-left: `#ffc107` (Pending) / `#28a745` (Confirmed)
- Background: `#ffffff`
- NÃºt "Há»§y": `btn-outline-danger` hoáº·c `btn-secondary`

---

### 2.2 CONFIRM State (Modal)
**MÃ´ táº£:** Modal xÃ¡c nháº­n khi user báº¥m nÃºt "Há»§y"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  XÃ¡c nháº­n há»§y lá»‹ch háº¹n?                           [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ âš¡ Lá»‹ch háº¹n Nguyá»…n VÄƒn A â€“ 15/01/2026 â€“             â”‚   â”‚
â”‚  â”‚    BÃ¡c sÄ© Tráº§n VÄƒn B sáº½ bá»‹ há»§y.                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¬ Báº¡n cÃ³ muá»‘n Ä‘á»ƒ láº¡i lÃ½ do há»§y khÃ´ng? (TÃ¹y chá»n)         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ -- Chá»n lÃ½ do --                              â–¼     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ğŸ“… Giá»¯ lá»‹ch]    [ğŸš« Há»§y lá»‹ch háº¹n]            â”‚
â”‚               (secondary)         (danger)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Dropdown Options:**
- KhÃ¡ch hÃ ng yÃªu cáº§u há»§y
- Xung Ä‘á»™t lá»‹ch trÃ¬nh
- BÃ¡c sÄ© khÃ´ng kháº£ dá»¥ng
- TrÆ°á»ng há»£p kháº©n cáº¥p
- LÃ½ do khÃ¡c â†’ Hiá»‡n textarea

---

### 2.3 LOADING State
**MÃ´ táº£:** Khi Ä‘ang xá»­ lÃ½ há»§y lá»‹ch háº¹n

```
Modal:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸  XÃ¡c nháº­n há»§y lá»‹ch háº¹n?                           [âœ•]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ...                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [ğŸ“… Giá»¯ lá»‹ch]    [â³ Äang há»§y...]             â”‚
â”‚               (disabled)         (disabled + spinner)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Card (CHá»ˆ tháº» Ä‘ang xá»­ lÃ½ bá»‹ disable):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• Lá»‹ch háº¹n #123                          [Chá» duyá»‡t] ğŸŸ¡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  â³ LOADING  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚  â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [disabled] [disabled] [disabled]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ QUAN TRá»ŒNG: CÃ¡c tháº» lá»‹ch khÃ¡c váº«n hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng!
```

**CSS Classes:**
- Modal buttons: `disabled`
- Card: `.card-loading` (opacity: 0.6, pointer-events: none)
- Spinner: Bootstrap spinner-border-sm

---

### 2.4 SUCCESS State
**MÃ´ táº£:** Sau khi há»§y thÃ nh cÃ´ng

```
Toast (bottom-right):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… ÄÃ£ há»§y lá»‹ch háº¹n thÃ nh cÃ´ng    [â†©ï¸ HoÃ n tÃ¡c (10)] [âœ•]   â”‚
â”‚  â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   â”‚
â”‚  â† Progress bar Ä‘áº¿m ngÆ°á»£c 10 giÃ¢y                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Card (Updated):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• Lá»‹ch háº¹n #123                            [ÄÃ£ há»§y] â¬œ    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  KhÃ¡ch hÃ ng: Nguyá»…n VÄƒn A                                   â”‚
â”‚  ThÃº cÆ°ng: Milo (ChÃ³ Corgi)                                 â”‚
â”‚  Dá»‹ch vá»¥: KhÃ¡m tá»•ng quÃ¡t                    â† Text má» hÆ¡n   â”‚
â”‚  BÃ¡c sÄ©: BS. Tráº§n VÄƒn B                                     â”‚
â”‚  NgÃ y háº¹n: 15/01/2026 - 09:00                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“… Äáº·t láº¡i]  [ğŸ‘ï¸ Xem chi tiáº¿t]           â† NÃºt má»›i       â”‚
â”‚   (primary)      (secondary)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**UI Changes:**
- Badge: `status-cancelled` (background: #6c757d)
- Card: `.card-inactive` (background: #f8f9fa, opacity: 0.85)
- Text: Giáº£m contrast (color: #6c757d)
- Border-left: `#6c757d`
- áº¨n nÃºt "Há»§y", hiá»‡n nÃºt "Äáº·t láº¡i" + "Xem chi tiáº¿t"

---

### 2.5 UNDO State
**MÃ´ táº£:** Khi user báº¥m "HoÃ n tÃ¡c"

```
Undo Success Toast:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ ÄÃ£ khÃ´i phá»¥c lá»‹ch háº¹n thÃ nh cÃ´ng                  [âœ•]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Undo Expired Toast:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â° Thá»i gian hoÃ n tÃ¡c Ä‘Ã£ háº¿t                         [âœ•]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Microcopy tiáº¿ng Viá»‡t

### 3.1 Modal Confirm
| Element | Text |
|---------|------|
| Title | XÃ¡c nháº­n há»§y lá»‹ch háº¹n? |
| Description | Lá»‹ch háº¹n **{tÃªn khÃ¡ch}** â€“ **{ngÃ y}** â€“ BÃ¡c sÄ© **{tÃªn BS}** sáº½ bá»‹ há»§y. |
| Reason Label | Báº¡n cÃ³ muá»‘n Ä‘á»ƒ láº¡i lÃ½ do há»§y khÃ´ng? *(TÃ¹y chá»n)* |
| Reason Placeholder | -- Chá»n lÃ½ do -- |
| Keep Button | ğŸ“… Giá»¯ lá»‹ch |
| Cancel Button | ğŸš« Há»§y lá»‹ch háº¹n |

### 3.2 Loading State
| Element | Text |
|---------|------|
| Button Loading | â³ Äang há»§y... |

### 3.3 Toast Messages
| State | Text |
|-------|------|
| Success | âœ… ÄÃ£ há»§y lá»‹ch háº¹n thÃ nh cÃ´ng |
| Undo Button | â†©ï¸ HoÃ n tÃ¡c ({countdown}) |
| Undo Success | ğŸ”„ ÄÃ£ khÃ´i phá»¥c lá»‹ch háº¹n thÃ nh cÃ´ng |
| Undo Expired | â° Thá»i gian hoÃ n tÃ¡c Ä‘Ã£ háº¿t |
| Error (Generic) | âŒ CÃ³ lá»—i xáº£y ra. Vui lÃ²ng thá»­ láº¡i. |
| Error (Network) | ğŸ“¡ KhÃ´ng thá»ƒ káº¿t ná»‘i Ä‘áº¿n server. Vui lÃ²ng kiá»ƒm tra káº¿t ná»‘i máº¡ng. |
| Error (Not Found) | ğŸ” Lá»‹ch háº¹n khÃ´ng tá»“n táº¡i hoáº·c Ä‘Ã£ bá»‹ xÃ³a. |
| Error (Conflict) | âš ï¸ Lá»‹ch háº¹n Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t bá»Ÿi ngÆ°á»i khÃ¡c. Vui lÃ²ng táº£i láº¡i trang. |

### 3.4 Cancel Reasons
| Value | Display Text |
|-------|--------------|
| customer_request | KhÃ¡ch hÃ ng yÃªu cáº§u há»§y |
| schedule_conflict | Xung Ä‘á»™t lá»‹ch trÃ¬nh |
| doctor_unavailable | BÃ¡c sÄ© khÃ´ng kháº£ dá»¥ng |
| emergency | TrÆ°á»ng há»£p kháº©n cáº¥p |
| other | LÃ½ do khÃ¡c |

### 3.5 Action Buttons (After Cancel)
| Button | Text |
|--------|------|
| Rebook | ğŸ“… Äáº·t láº¡i |
| View Details | ğŸ‘ï¸ Xem chi tiáº¿t |

---

## 4. Guidelines mÃ u sáº¯c

### 4.1 Color Palette

```css
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   DANGER COLORS (Há»§y, Lá»—i)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
--danger-primary:     #dc3545;    /* NÃºt há»§y, badge tá»« chá»‘i */
--danger-hover:       #c82333;    /* Hover state */
--danger-light-bg:    #f8d7da;    /* Background nháº¹ */
--danger-light-text:  #721c24;    /* Text trÃªn ná»n nháº¹ */

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INACTIVE COLORS (ÄÃ£ há»§y, Disabled)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
--inactive-primary:   #6c757d;    /* Badge Ä‘Ã£ há»§y */
--inactive-bg:        #f8f9fa;    /* Card background */
--inactive-text:      #adb5bd;    /* Text má» */
--inactive-border:    #ced4da;    /* Border */

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SUCCESS COLORS (Toast thÃ nh cÃ´ng)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
--success-primary:    #28a745;    /* Toast background */
--success-hover:      #218838;    /* Hover state */
--success-light-bg:   #d4edda;    /* Background nháº¹ */
--success-light-text: #155724;    /* Text trÃªn ná»n nháº¹ */

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   WARNING COLORS (Undo countdown)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
--warning-primary:    #ffc107;    /* Countdown badge */
--warning-hover:      #e0a800;    /* Hover state */
--warning-light-bg:   #fff3cd;    /* Summary box background */
--warning-light-text: #856404;    /* Text trÃªn ná»n nháº¹ */

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INFO COLORS (KhÃ´i phá»¥c)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
--info-primary:       #17a2b8;    /* Undo success toast */
--info-hover:         #138496;    /* Hover state */
--info-light-bg:      #d1ecf1;    /* Background nháº¹ */
--info-light-text:    #0c5460;    /* Text trÃªn ná»n nháº¹ */
```

### 4.2 Status Badge Colors

| Status | Background | Text | Border-left |
|--------|------------|------|-------------|
| Chá» duyá»‡t | `#ffc107` | `#000` | `#ffc107` |
| ÄÃ£ duyá»‡t | `#28a745` | `#fff` | `#28a745` |
| HoÃ n thÃ nh | `#6f42c1` | `#fff` | `#6f42c1` |
| Tá»« chá»‘i | `#dc3545` | `#fff` | `#dc3545` |
| **ÄÃ£ há»§y** | `#6c757d` | `#fff` | `#6c757d` |

### 4.3 Button Colors

| Button Type | Background | Text | Border | Hover BG |
|-------------|------------|------|--------|----------|
| Danger (Há»§y) | `#dc3545` | `#fff` | `#dc3545` | `#c82333` |
| Secondary (Giá»¯ lá»‹ch) | `transparent` | `#6c757d` | `#6c757d` | `#6c757d` |
| Primary (Äáº·t láº¡i) | `#0b1a33` | `#fff` | `#0b1a33` | `#1a3a5c` |
| Outline (Xem chi tiáº¿t) | `transparent` | `#6c757d` | `#6c757d` | `#6c757d` |

---

## 5. Edge Cases

### 5.1 API Lá»—i

| Error Code | NguyÃªn nhÃ¢n | Xá»­ lÃ½ UI | Message |
|------------|-------------|----------|---------|
| 400 | Bad Request | Hiá»‡n error toast | "YÃªu cáº§u khÃ´ng há»£p lá»‡. Vui lÃ²ng thá»­ láº¡i." |
| 404 | Lá»‹ch háº¹n khÃ´ng tá»“n táº¡i | Hiá»‡n error toast, reload page | "Lá»‹ch háº¹n khÃ´ng tá»“n táº¡i hoáº·c Ä‘Ã£ bá»‹ xÃ³a." |
| 409 | Conflict (Ä‘Ã£ cáº­p nháº­t) | Hiá»‡n error toast, reload page | "Lá»‹ch háº¹n Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t. Vui lÃ²ng táº£i láº¡i trang." |
| 500 | Server Error | Hiá»‡n error toast | "Lá»—i server. Vui lÃ²ng thá»­ láº¡i sau." |
| Network | Máº¥t káº¿t ná»‘i | Hiá»‡n error toast | "KhÃ´ng thá»ƒ káº¿t ná»‘i. Kiá»ƒm tra káº¿t ná»‘i máº¡ng." |

**Recovery Flow:**
```
API Error â†’ Remove loading state â†’ Show error toast â†’ Keep modal open â†’ User can retry
```

### 5.2 Há»§y nhiá»u láº§n (Double-click Prevention)

```javascript
// Prevent double submission
let isCancelling = false;

function executeCancelAppointment() {
    if (isCancelling) return;
    isCancelling = true;
    
    // ... execute cancel
    
    setTimeout(() => { isCancelling = false; }, 3000);
}
```

**UI Behavior:**
- Disable nÃºt ngay khi click
- Hiá»‡n spinner
- KhÃ´ng cho click láº¡i trong 3 giÃ¢y
- Náº¿u Ä‘Ã£ há»§y rá»“i â†’ Hiá»‡n toast: "Lá»‹ch háº¹n nÃ y Ä‘Ã£ Ä‘Æ°á»£c há»§y trÆ°á»›c Ä‘Ã³."

### 5.3 Undo háº¿t háº¡n

**Timeline:**
```
0s â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 10s
â”‚                                                      â”‚
â”œâ”€ Toast hiá»‡n vá»›i countdown                            â”‚
â”œâ”€ Progress bar animate tá»« 100% â†’ 0%                   â”‚
â”œâ”€ Countdown: 10, 9, 8, 7, 6, 5, 4, 3, 2, 1           â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                                       â”‚
                                                       â–¼
                                              Toast tá»± Ä‘Ã³ng
                                              Hiá»‡n "Thá»i gian hoÃ n tÃ¡c Ä‘Ã£ háº¿t"
                                              Clear undo data
```

**Behavior:**
- Sau 10 giÃ¢y: Toast success tá»± Ä‘Ã³ng
- Hiá»‡n toast má»›i: "Thá»i gian hoÃ n tÃ¡c Ä‘Ã£ háº¿t"
- Clear `currentCancelData`
- Náº¿u user click Undo sau khi háº¿t háº¡n â†’ "KhÃ´ng thá»ƒ hoÃ n tÃ¡c. Dá»¯ liá»‡u Ä‘Ã£ háº¿t háº¡n."

### 5.4 Há»§y khi Ä‘ang cÃ³ Undo pending

**Scenario:** User há»§y lá»‹ch A, chÆ°a háº¿t thá»i gian undo, láº¡i há»§y lá»‹ch B

**Behavior:**
- Undo cá»§a lá»‹ch A bá»‹ clear
- Chá»‰ giá»¯ undo cá»§a lá»‹ch B (lá»‹ch má»›i nháº¥t)
- Toast cÅ© bá»‹ thay tháº¿ bá»Ÿi toast má»›i

### 5.5 Validation trÆ°á»›c khi há»§y

| Current Status | Cho phÃ©p há»§y? | Message |
|----------------|---------------|---------|
| Pending | âœ… CÃ³ | - |
| Confirmed | âœ… CÃ³ | - |
| Completed | âŒ KhÃ´ng | "KhÃ´ng thá»ƒ há»§y lá»‹ch háº¹n Ä‘Ã£ hoÃ n thÃ nh." |
| Rejected | âŒ KhÃ´ng | "Lá»‹ch háº¹n nÃ y Ä‘Ã£ bá»‹ tá»« chá»‘i." |
| Cancelled | âŒ KhÃ´ng | "Lá»‹ch háº¹n nÃ y Ä‘Ã£ Ä‘Æ°á»£c há»§y trÆ°á»›c Ä‘Ã³." |

### 5.6 Concurrent Updates

**Scenario:** Admin A Ä‘ang há»§y, Admin B cÅ©ng Ä‘ang thao tÃ¡c cÃ¹ng lá»‹ch

**Solution:**
- Backend check `updated_at` timestamp
- Náº¿u conflict â†’ Return 409
- Frontend hiá»‡n: "Lá»‹ch háº¹n Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t bá»Ÿi ngÆ°á»i khÃ¡c. Vui lÃ²ng táº£i láº¡i trang."
- CÃ³ nÃºt "Táº£i láº¡i" trong error toast

---

## 6. Implementation Files

### 6.1 File Structure
```
src/main/webapp/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ cancel-appointment-modal.jsp    # Modal + Toast components
â”œâ”€â”€ css/
â”‚   â””â”€â”€ cancel-appointment.css          # All styles
â”œâ”€â”€ js/
â”‚   â””â”€â”€ cancel-appointment.js           # All JavaScript logic
â””â”€â”€ admin/
    â””â”€â”€ appointments.jsp                 # Include components
```

### 6.2 Usage

**Include trong JSP:**
```jsp
<!-- CSS -->
<link rel="stylesheet" href="${pageContext.request.contextPath}/css/cancel-appointment.css">

<!-- Components -->
<jsp:include page="/components/cancel-appointment-modal.jsp" />

<!-- JavaScript -->
<script>const contextPath = '${pageContext.request.contextPath}';</script>
<script src="${pageContext.request.contextPath}/js/cancel-appointment.js"></script>
```

**Trigger Modal:**
```html
<button onclick="showCancelModal(123, 'Nguyá»…n VÄƒn A', '15/01/2026', 'BS. Tráº§n VÄƒn B', 'Pending')">
    Há»§y
</button>
```

---

## Checklist Implementation

- [ ] Modal component vá»›i form lÃ½ do há»§y
- [ ] Loading state chá»‰ disable tháº» Ä‘ang xá»­ lÃ½
- [ ] Toast success vá»›i Undo button
- [ ] Countdown 10 giÃ¢y vá»›i progress bar
- [ ] Update UI card táº¡i chá»— (khÃ´ng reload)
- [ ] Undo functionality
- [ ] Error handling cho táº¥t cáº£ edge cases
- [ ] Responsive design
- [ ] Accessibility (ARIA labels, keyboard navigation)
